@model CalendarioListVM

@{
    var listaSiNo = new SelectList(new List<string> { "SI", "NO" });

    ViewData["Title"] = "Lista de calendarios";
    var calendarios = Model.calendarios;
    var calendario = Model.nuevoCalendario;
    var primera = calendarios.FirstOrDefault();
    var col = "collapse";
    if (Model.Error) { col = "show"; }
    var colHor = String.Concat(col, " collapse-horizontal");
}

<div class="card m-3 card-filter p-2">
    <div class="card-header">
        <div class="btn-group m-2">
            <button type="button" class="btn-info m-2" data-bs-toggle=@col data-bs-target="#collapseNuevoCalendario" aria-expanded="false" aria-controls="collapseNuevoCalendario">Nuevo calendario</button>
        </div>
    </div>
    <div class=@colHor id="collapseNuevoCalendario">
        <div class="card card-body">
            <form asp-action="Create" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label class="control-label">Nombre: </label>
                    <input id="nombre" name="nombre" type="text" class="form-control" />
                </div>
                <div class="form-group">
                    <label class="control-label">Nº de equipos: </label>
                    <input id="numEquipos" name="numEquipos" type="number" class="form-control" />
                </div>
                <div>
                    <p>Generar un fichero excel con las columnas "Jornada" "Local" "Visitante", con todos los enfrentamientos. Las columnas Local y Visitante deben comenzar con la palabra "Participante"</p>
                    <p>1 Participante1 Participante4</p>
                    <p>1 Participante2 Participante3</p>
                    <p>2 Participante4 Participante1</p>
                    <p>2 Participante3 Participante2</p>
                    <input type="file" id="fUpload" name="files" class="form-control" style="padding:2px" />
                </div>
                <div class="form-group">
                    <input type="submit" value="Crear" class="btn btn-primary m-2" />
                </div>
            </form>
        </div>
    </div>
</div>

<div class="card m-3">
    <div class="card-header">
        <div class="card-title">Calendarios</div>
    </div>
    <div class="card-body">
        <table class="display" id="tbCalendarios">
            <thead>
                <tr>
                    <th></th>
                    <th>
                        @Html.DisplayNameFor(model => primera.Calendario)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => primera.NumEquipos)
                    </th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
@section Scripts {
    <script src="~/js/calendario.js" type="text/javascript"></script>
}